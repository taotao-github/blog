<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>8、数据库操作语言 | Tao&#39;s blog</title>
    <meta name="description" content="我的个人网站">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/blog/images/logo.jpg">
  <link rel="stylesheet" href="/blog/css/style.css">
    
    <link rel="preload" href="/blog/assets/css/0.styles.a6200c90.css" as="style"><link rel="preload" href="/blog/assets/js/app.72185d73.js" as="script"><link rel="preload" href="/blog/assets/js/5.91e22af4.js" as="script"><link rel="preload" href="/blog/assets/js/77.8813cd35.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.820e8cbb.js"><link rel="prefetch" href="/blog/assets/js/10.61ee7252.js"><link rel="prefetch" href="/blog/assets/js/100.8d9637ac.js"><link rel="prefetch" href="/blog/assets/js/101.4b5eb77b.js"><link rel="prefetch" href="/blog/assets/js/102.f6dd923b.js"><link rel="prefetch" href="/blog/assets/js/103.a534b243.js"><link rel="prefetch" href="/blog/assets/js/104.c2b4f5d1.js"><link rel="prefetch" href="/blog/assets/js/105.745515c7.js"><link rel="prefetch" href="/blog/assets/js/106.f3e98f6a.js"><link rel="prefetch" href="/blog/assets/js/107.c420604a.js"><link rel="prefetch" href="/blog/assets/js/108.29b6d979.js"><link rel="prefetch" href="/blog/assets/js/109.f62507d1.js"><link rel="prefetch" href="/blog/assets/js/11.77f481d5.js"><link rel="prefetch" href="/blog/assets/js/110.67c10b82.js"><link rel="prefetch" href="/blog/assets/js/12.c44ecada.js"><link rel="prefetch" href="/blog/assets/js/13.d477dd15.js"><link rel="prefetch" href="/blog/assets/js/14.a15b2ccd.js"><link rel="prefetch" href="/blog/assets/js/15.11d3eceb.js"><link rel="prefetch" href="/blog/assets/js/16.7864448f.js"><link rel="prefetch" href="/blog/assets/js/17.1d0571f6.js"><link rel="prefetch" href="/blog/assets/js/18.a5965a7e.js"><link rel="prefetch" href="/blog/assets/js/19.88d2ced7.js"><link rel="prefetch" href="/blog/assets/js/2.642fd29e.js"><link rel="prefetch" href="/blog/assets/js/20.134b4be0.js"><link rel="prefetch" href="/blog/assets/js/21.aa23d27d.js"><link rel="prefetch" href="/blog/assets/js/22.63207369.js"><link rel="prefetch" href="/blog/assets/js/23.db6d7d67.js"><link rel="prefetch" href="/blog/assets/js/24.e693afed.js"><link rel="prefetch" href="/blog/assets/js/25.4942e8c7.js"><link rel="prefetch" href="/blog/assets/js/26.489c1402.js"><link rel="prefetch" href="/blog/assets/js/27.fc51bda4.js"><link rel="prefetch" href="/blog/assets/js/28.a4703015.js"><link rel="prefetch" href="/blog/assets/js/29.d215359f.js"><link rel="prefetch" href="/blog/assets/js/3.8bb01784.js"><link rel="prefetch" href="/blog/assets/js/30.b860c8ea.js"><link rel="prefetch" href="/blog/assets/js/31.3153b5ad.js"><link rel="prefetch" href="/blog/assets/js/32.e985d7b0.js"><link rel="prefetch" href="/blog/assets/js/33.0382a117.js"><link rel="prefetch" href="/blog/assets/js/34.6c4e0472.js"><link rel="prefetch" href="/blog/assets/js/35.000e3908.js"><link rel="prefetch" href="/blog/assets/js/36.4afbac44.js"><link rel="prefetch" href="/blog/assets/js/37.86f97da1.js"><link rel="prefetch" href="/blog/assets/js/38.a20c2a47.js"><link rel="prefetch" href="/blog/assets/js/39.b48d6fbd.js"><link rel="prefetch" href="/blog/assets/js/40.ac95ca0e.js"><link rel="prefetch" href="/blog/assets/js/41.ef435614.js"><link rel="prefetch" href="/blog/assets/js/42.27c8ccf4.js"><link rel="prefetch" href="/blog/assets/js/43.12befc34.js"><link rel="prefetch" href="/blog/assets/js/44.57488cd7.js"><link rel="prefetch" href="/blog/assets/js/45.296159d0.js"><link rel="prefetch" href="/blog/assets/js/46.df897180.js"><link rel="prefetch" href="/blog/assets/js/47.9f467a59.js"><link rel="prefetch" href="/blog/assets/js/48.cf46b344.js"><link rel="prefetch" href="/blog/assets/js/49.92850c42.js"><link rel="prefetch" href="/blog/assets/js/50.29ed3d3b.js"><link rel="prefetch" href="/blog/assets/js/51.cc50201d.js"><link rel="prefetch" href="/blog/assets/js/52.4bfa4aff.js"><link rel="prefetch" href="/blog/assets/js/53.9508fbac.js"><link rel="prefetch" href="/blog/assets/js/54.d188b026.js"><link rel="prefetch" href="/blog/assets/js/55.a4b66d62.js"><link rel="prefetch" href="/blog/assets/js/56.107234f9.js"><link rel="prefetch" href="/blog/assets/js/57.f63f9a3b.js"><link rel="prefetch" href="/blog/assets/js/58.2f40fc37.js"><link rel="prefetch" href="/blog/assets/js/59.a2b7e4f6.js"><link rel="prefetch" href="/blog/assets/js/6.0de8b73d.js"><link rel="prefetch" href="/blog/assets/js/60.b9ff82da.js"><link rel="prefetch" href="/blog/assets/js/61.5f57109a.js"><link rel="prefetch" href="/blog/assets/js/62.685cf5d9.js"><link rel="prefetch" href="/blog/assets/js/63.97320149.js"><link rel="prefetch" href="/blog/assets/js/64.4cebec8d.js"><link rel="prefetch" href="/blog/assets/js/65.2fb4d72b.js"><link rel="prefetch" href="/blog/assets/js/66.78dc0dac.js"><link rel="prefetch" href="/blog/assets/js/67.34f36f8f.js"><link rel="prefetch" href="/blog/assets/js/68.37f6c7be.js"><link rel="prefetch" href="/blog/assets/js/69.3b616a26.js"><link rel="prefetch" href="/blog/assets/js/7.c5fb7b88.js"><link rel="prefetch" href="/blog/assets/js/70.7c0e28f7.js"><link rel="prefetch" href="/blog/assets/js/71.215e601c.js"><link rel="prefetch" href="/blog/assets/js/72.4716a278.js"><link rel="prefetch" href="/blog/assets/js/73.38493d66.js"><link rel="prefetch" href="/blog/assets/js/74.1210a519.js"><link rel="prefetch" href="/blog/assets/js/75.48045236.js"><link rel="prefetch" href="/blog/assets/js/76.8c9ceb4a.js"><link rel="prefetch" href="/blog/assets/js/78.2f6c5458.js"><link rel="prefetch" href="/blog/assets/js/79.49fcba3e.js"><link rel="prefetch" href="/blog/assets/js/8.3f097190.js"><link rel="prefetch" href="/blog/assets/js/80.8de0230a.js"><link rel="prefetch" href="/blog/assets/js/81.b6865dd2.js"><link rel="prefetch" href="/blog/assets/js/82.a2096070.js"><link rel="prefetch" href="/blog/assets/js/83.6384b7a3.js"><link rel="prefetch" href="/blog/assets/js/84.05f6f876.js"><link rel="prefetch" href="/blog/assets/js/85.e6b7abba.js"><link rel="prefetch" href="/blog/assets/js/86.a368c5e8.js"><link rel="prefetch" href="/blog/assets/js/87.24c3347b.js"><link rel="prefetch" href="/blog/assets/js/88.091b8412.js"><link rel="prefetch" href="/blog/assets/js/89.e4c33395.js"><link rel="prefetch" href="/blog/assets/js/9.b7354baa.js"><link rel="prefetch" href="/blog/assets/js/90.8a49aa01.js"><link rel="prefetch" href="/blog/assets/js/91.8614a057.js"><link rel="prefetch" href="/blog/assets/js/92.786c4832.js"><link rel="prefetch" href="/blog/assets/js/93.2ecf7c26.js"><link rel="prefetch" href="/blog/assets/js/94.f115576b.js"><link rel="prefetch" href="/blog/assets/js/95.63fb5e60.js"><link rel="prefetch" href="/blog/assets/js/96.9a8db9d4.js"><link rel="prefetch" href="/blog/assets/js/97.b460f568.js"><link rel="prefetch" href="/blog/assets/js/98.fed989e9.js"><link rel="prefetch" href="/blog/assets/js/99.c9584e18.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.a6200c90.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Tao's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/front-base/ES6/" class="nav-link">
  ECMAScript 6
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-base/javascript核心技术开发/" class="nav-link">
  JavaScript核心技术开发
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-base/html/" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-base/webpack/" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端基础" class="dropdown-title"><span class="title">后端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/back-base/java/" class="nav-link">
  java
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="拓展" class="dropdown-title"><span class="title">拓展</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/expand/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/blog/expand/mongodb/" class="nav-link">
  mongodb
</a></li><li class="dropdown-item"><!----> <a href="/blog/expand/mysql/" class="nav-link router-link-active">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/blog/expand/mini-program/" class="nav-link">
  Mini Program
</a></li></ul></div></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  算法题库
</a></div><div class="nav-item"><a href="/blog/classic/" class="nav-link">
  经典文章
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端UI" class="dropdown-title"><span class="title">前端UI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/front-ui/element/" class="nav-link">
  element
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-ui/iview/" class="nav-link">
  iview
</a></li></ul></div></div><div class="nav-item"><a href="/blog/my-components/" class="nav-link">
  高级组件
</a></div><div class="nav-item"><a href="/blog/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/front-base/ES6/" class="nav-link">
  ECMAScript 6
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-base/javascript核心技术开发/" class="nav-link">
  JavaScript核心技术开发
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-base/html/" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-base/webpack/" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端基础" class="dropdown-title"><span class="title">后端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/back-base/java/" class="nav-link">
  java
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="拓展" class="dropdown-title"><span class="title">拓展</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/expand/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/blog/expand/mongodb/" class="nav-link">
  mongodb
</a></li><li class="dropdown-item"><!----> <a href="/blog/expand/mysql/" class="nav-link router-link-active">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/blog/expand/mini-program/" class="nav-link">
  Mini Program
</a></li></ul></div></div><div class="nav-item"><a href="/blog/algorithm/" class="nav-link">
  算法题库
</a></div><div class="nav-item"><a href="/blog/classic/" class="nav-link">
  经典文章
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端UI" class="dropdown-title"><span class="title">前端UI</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/front-ui/element/" class="nav-link">
  element
</a></li><li class="dropdown-item"><!----> <a href="/blog/front-ui/iview/" class="nav-link">
  iview
</a></li></ul></div></div><div class="nav-item"><a href="/blog/my-components/" class="nav-link">
  高级组件
</a></div><div class="nav-item"><a href="/blog/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  微博
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/expand/mysql/" class="sidebar-heading clickable router-link-active open"><span>mysql</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/expand/mysql/notes/数据库介绍.html" class="sidebar-link">1、数据库介绍</a></li><li><a href="/blog/expand/mysql/notes/mysql数据库系统级操作.html" class="sidebar-link">2、mysql数据库系统级操作</a></li><li><a href="/blog/expand/mysql/notes/数据库定义语句.html" class="sidebar-link">3、数据库定义语句</a></li><li><a href="/blog/expand/mysql/notes/字段类型.html" class="sidebar-link">4、字段类型</a></li><li><a href="/blog/expand/mysql/notes/表定义语句.html" class="sidebar-link">5、表定义语句</a></li><li><a href="/blog/expand/mysql/notes/视图.html" class="sidebar-link">6、视图</a></li><li><a href="/blog/expand/mysql/notes/数据库（表）设计3范式.html" class="sidebar-link">7、数据库（表）设计 3 范式</a></li><li><a href="/blog/expand/mysql/notes/数据库操作语言.html" class="active sidebar-link">8、数据库操作语言</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-1、插入数据" class="sidebar-link">8.1、插入数据</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-2、删除数据" class="sidebar-link">8.2、删除数据</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-3、修改数据" class="sidebar-link">8.3、修改数据</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-4、查询数据" class="sidebar-link">8.4、查询数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-4-1、字段或者表达式列表" class="sidebar-link">8.4.1、字段或者表达式列表</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-4-2、all-和-distinct" class="sidebar-link">8.4.2、all 和 distinct</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-4-3、from-子句" class="sidebar-link">8.4.3、from 子句</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-4-4、where-子句" class="sidebar-link">8.4.4、where 子句</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-4-5、group-by-子句（分组）" class="sidebar-link">8.4.5、group by 子句（分组）</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-4-6、having-子句" class="sidebar-link">8.4.6、having 子句</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-4-7、order-by-：排序" class="sidebar-link">8.4.7、order by ：排序</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-4-8、limit-子句" class="sidebar-link">8.4.8、limit 子句</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-5、连接查询" class="sidebar-link">8.5、连接查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-5-1、连接基本形式" class="sidebar-link">8.5.1、连接基本形式</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-5-2、连接的分类" class="sidebar-link">8.5.2、连接的分类</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-6、子查询" class="sidebar-link">8.6、子查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-6-1、基本形式" class="sidebar-link">8.6.1、基本形式</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-6-2、子查询的分类" class="sidebar-link">8.6.2、子查询的分类</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-6-3、常见的子查询" class="sidebar-link">8.6.3、常见的子查询</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-7、联合查询" class="sidebar-link">8.7、联合查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-7-1、基本概念" class="sidebar-link">8.7.1、基本概念</a></li><li class="sidebar-sub-header"><a href="/blog/expand/mysql/notes/数据库操作语言.html#_8-7-2、联合查询语法形式" class="sidebar-link">8.7.2、联合查询语法形式</a></li></ul></li></ul></li><li><a href="/blog/expand/mysql/notes/数据库练习.html" class="sidebar-link">9、数据库练习</a></li><li><a href="/blog/expand/mysql/notes/数据控制语言.html" class="sidebar-link">10、数据控制语言</a></li><li><a href="/blog/expand/mysql/notes/事务控制语言.html" class="sidebar-link">11、事务控制语言</a></li><li><a href="/blog/expand/mysql/notes/mysql编程.html" class="sidebar-link">12、mysql编程</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_8、数据库操作语言"><a href="#_8、数据库操作语言" class="header-anchor">#</a> 8、数据库操作语言</h1> <h2 id="_8-1、插入数据"><a href="#_8-1、插入数据" class="header-anchor">#</a> 8.1、插入数据</h2> <ol><li>形式 1:</li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token punctuation">[</span><span class="token keyword">into</span><span class="token punctuation">]</span> 表名 <span class="token punctuation">[</span><span class="token punctuation">(</span>字段<span class="token number">1</span><span class="token punctuation">,</span> 字段<span class="token number">2</span><span class="token punctuation">,</span> …<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">values</span><span class="token punctuation">(</span>值表达式<span class="token number">1</span><span class="token punctuation">,</span> 值表达式<span class="token number">2</span><span class="token punctuation">,</span> …<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>…<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>…<span class="token punctuation">)</span>
<span class="token comment"># a) 这是最常用的插入语句，可以一次性插入多行数据，用逗号隔开</span>
<span class="token comment"># b) 字段名通常不推荐省略，其后续的值表达式列表应该跟字段名保持一一对应</span>
<span class="token comment"># c) 其中值表达式可以直接是一个值或者函数调用结果或者变量。如果对应的字段是时间或字符类型，则直接值应该加引号。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>形式 2：</li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">replace</span> <span class="token punctuation">[</span><span class="token keyword">into</span><span class="token punctuation">]</span> 表名 <span class="token punctuation">[</span><span class="token punctuation">(</span>字段<span class="token number">1</span><span class="token punctuation">,</span> 字段<span class="token number">2</span><span class="token punctuation">,</span> …<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">values</span><span class="token punctuation">(</span>值表达式<span class="token number">1</span><span class="token punctuation">,</span> 值表达式<span class="token number">2</span><span class="token punctuation">,</span> …<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>…<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>…<span class="token punctuation">)</span>
<span class="token comment"># a) 其实跟insert into 几乎一样，唯一不同就是，如果插入主键有重复，则直接替换，而insert into会报错。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>形式 3：</li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token punctuation">[</span><span class="token keyword">into</span><span class="token punctuation">]</span> 表名 <span class="token punctuation">[</span><span class="token punctuation">(</span>字段<span class="token number">1</span><span class="token punctuation">,</span> 字段<span class="token number">2</span><span class="token punctuation">,</span> …<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">select</span> 字段<span class="token number">1</span><span class="token punctuation">,</span> 字段<span class="token number">2</span><span class="token punctuation">,</span> … <span class="token keyword">from</span> 表名
<span class="token comment"># a) 将select 语句查询的结果（可能有多条），都插入到指定的表中</span>
<span class="token comment"># b) 注意字段的对应，select 出来的字段应该跟前面指定的字段列表一一对应</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="4"><li>形式 4：</li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token punctuation">[</span><span class="token keyword">into</span><span class="token punctuation">]</span> 表名 <span class="token keyword">set</span> 字段<span class="token number">1</span><span class="token operator">=</span>值表达式<span class="token number">1</span><span class="token punctuation">,</span> 字段<span class="token number">2</span><span class="token operator">=</span>值表达式<span class="token number">2</span><span class="token punctuation">,</span> …
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_8-2、删除数据"><a href="#_8-2、删除数据" class="header-anchor">#</a> 8.2、删除数据</h2> <p>语法形式：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> 表名 <span class="token punctuation">[</span><span class="token keyword">where</span> 条件<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">order</span> <span class="token keyword">by</span> 排序<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">limit</span> 限定<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>说明：</p> <ol><li>删除数据仍然是以行为单位进行</li> <li>通常删除数据都需要带有 where 条件，否则就会删除所有数据</li> <li>where 条件的语法跟 select 中的语法一样</li> <li>order by 排序设定，用于指定这些数据的删除顺序。他通常更 limit 一起使用才有意义</li> <li>limit 限定用于设定删除多少行（按照 order by 设定的顺序）</li> <li>实际应用中，通常很少设置用到 order by 和 limit</li></ol> <h2 id="_8-3、修改数据"><a href="#_8-3、修改数据" class="header-anchor">#</a> 8.3、修改数据</h2> <p>语法形式：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span>表名 <span class="token keyword">set</span> 字段<span class="token number">1</span><span class="token operator">=</span>值<span class="token number">1</span><span class="token punctuation">,</span> 字段<span class="token number">2</span><span class="token operator">=</span>值<span class="token number">2</span><span class="token punctuation">,</span> … <span class="token punctuation">[</span><span class="token keyword">where</span> 条件<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">order</span> <span class="token keyword">by</span> 排序<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">limit</span> 限定<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>说明：通常 update 语句也需要 where 条件，否则会修改所有数据</p> <h2 id="_8-4、查询数据"><a href="#_8-4、查询数据" class="header-anchor">#</a> 8.4、查询数据</h2> <p>基本语法形式：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token punctuation">[</span><span class="token keyword">all</span> <span class="token operator">|</span> <span class="token keyword">distinct</span><span class="token punctuation">]</span> 字段或者表达式 <span class="token punctuation">[</span><span class="token keyword">from</span> 子句<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">where</span> 子句<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">group</span> <span class="token keyword">by</span>子句<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">having</span>子句<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">order</span> <span class="token keyword">by</span>子句<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">limit</span> 子句<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-4-1、字段或者表达式列表"><a href="#_8-4-1、字段或者表达式列表" class="header-anchor">#</a> 8.4.1、字段或者表达式列表</h3> <ol><li>字段，自然是来源于表，则其必然是依赖于 from 子句</li> <li>表达式是类似这样的一个内容：8, 8+3, now()</li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---+</span>
<span class="token operator">|</span> <span class="token number">8</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+</span>
<span class="token operator">|</span> <span class="token number">8</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token number">8</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-----+</span>
<span class="token operator">|</span> <span class="token number">8</span><span class="token operator">+</span><span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----+</span>
<span class="token operator">|</span>  <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-----+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> nowtime<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span> nowtime             <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">19</span>:<span class="token number">52</span>:<span class="token number">23</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">,</span> concat<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">---+-----+-----------------------+---------------------+</span>
<span class="token operator">|</span> <span class="token number">8</span> <span class="token operator">|</span> <span class="token number">8</span><span class="token operator">+</span><span class="token number">3</span> <span class="token operator">|</span> concat<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>               <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+-----+-----------------------+---------------------+</span>
<span class="token operator">|</span> <span class="token number">8</span> <span class="token operator">|</span>  <span class="token number">11</span> <span class="token operator">|</span> abc                   <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">19</span>:<span class="token number">55</span>:<span class="token number">48</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">---+-----+-----------------------+---------------------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><blockquote><p>其中: concat() 函数是 mysql 中的系统函数，主要用于连接多个字符串；注意 每个输出项都可以 s 使用 as 关键字设置别名</p></blockquote> <h3 id="_8-4-2、all-和-distinct"><a href="#_8-4-2、all-和-distinct" class="header-anchor">#</a> 8.4.2、all 和 distinct</h3> <p>作用：用于设定 select 出来的数据是否消除‘重复行’，可以不写，默认是 all。all 表示不消除，即查出所有的数据。distinct: 表示会消除。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code> mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token keyword">all</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_test<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token operator">|</span> f1   <span class="token operator">|</span> f2   <span class="token operator">|</span> f3   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token keyword">distinct</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_test<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token operator">|</span> f1   <span class="token operator">|</span> f2   <span class="token operator">|</span> f3   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="_8-4-3、from-子句"><a href="#_8-4-3、from-子句" class="header-anchor">#</a> 8.4.3、from 子句</h3> <div class="custom-block tip"><p class="custom-block-title">作用</p> <p>from 子句表示 select 部分取得数据的数据源 -- 可以理解为表。通常其后面跟随的是表名，但是也可能是其他的数据来源，如表连接数据、视图、select 子查询的数据等</p></div> <h3 id="_8-4-4、where-子句"><a href="#_8-4-4、where-子句" class="header-anchor">#</a> 8.4.4、where 子句</h3> <p>作用：</p> <ol><li><p>where 子句就是对 from 子句中的数据源中数据进行筛选的条件设定，筛选的机制是‘一行一行进行判断’，类似各种语言中的 if 语句。</p></li> <li><p>where 子句依赖于 from 子句</p></li> <li><p>where 子句中常用的各种运算符</p> <ul><li><p>算术运算符：+ - * / %</p></li> <li><p>比较运算符：&gt; &gt;= &lt; &lt;= =（等于） &lt;&gt;（不等于） ==（等于） != （不等于）</p></li> <li><p>逻辑运算符：and or not</p></li> <li><p>is 运算符：空值和布尔值的判断，有 4 种情况的使用：</p> <ol><li>xx is null：判断某个字段是 null 值 （就是没有值）</li> <li>xx is not null：判断某个字段不是 null</li> <li>xx is true：判断某个字段为真（true）</li> <li>xx is false：判断某个字段为假（false： 0， 0.0，‘’ ，null）</li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_test<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token operator">|</span> f1   <span class="token operator">|</span> f2   <span class="token operator">|</span> f3   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token number">6</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_test <span class="token keyword">where</span> f2 <span class="token operator">is</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token operator">|</span> f1   <span class="token operator">|</span> f2   <span class="token operator">|</span> f3   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_test <span class="token keyword">where</span> f2 <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token operator">|</span> f1   <span class="token operator">|</span> f2   <span class="token operator">|</span> f3   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>    <span class="token number">0</span> <span class="token operator">|</span>  <span class="token number">123</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div></li> <li><p>between 运算符：判断范围</p> <p>用于判断某个字段的数据值是否在某个给定的范围内 （适用于数字类型）。</p> <p>语法：xx between 值 1 and 值 2 （相当于 xx&gt;=值 1 and xx &lt;= 值 2）</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_stu<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> sex  <span class="token operator">|</span> address   <span class="token operator">|</span> score <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 男   <span class="token operator">|</span> 重庆      <span class="token operator">|</span>    <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 女   <span class="token operator">|</span> 四川      <span class="token operator">|</span>    <span class="token number">22</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 李四   <span class="token operator">|</span> 男   <span class="token operator">|</span> 河北      <span class="token operator">|</span>    <span class="token number">26</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 男   <span class="token operator">|</span> 黑龙江    <span class="token operator">|</span>    <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 黄伞   <span class="token operator">|</span> 男   <span class="token operator">|</span> 江南      <span class="token operator">|</span>    <span class="token number">40</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_stu <span class="token keyword">where</span> score <span class="token operator">between</span> <span class="token number">20</span> <span class="token operator">and</span> <span class="token number">30</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> sex  <span class="token operator">|</span> address   <span class="token operator">|</span> score <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 女   <span class="token operator">|</span> 四川      <span class="token operator">|</span>    <span class="token number">22</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 李四   <span class="token operator">|</span> 男   <span class="token operator">|</span> 河北      <span class="token operator">|</span>    <span class="token number">26</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 男   <span class="token operator">|</span> 黑龙江    <span class="token operator">|</span>    <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li> <li><p>in 运算符：是否在给定数据里</p> <p>语法：xx in (值 1，值 2，值 3, …)</p> <p>含义：表示字段 xx 的值是否在给定数值中，有就输出，没有就不输出</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_stu<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> sex  <span class="token operator">|</span> address   <span class="token operator">|</span> score <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 男   <span class="token operator">|</span> 重庆      <span class="token operator">|</span>    <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 女   <span class="token operator">|</span> 四川      <span class="token operator">|</span>    <span class="token number">22</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 李四   <span class="token operator">|</span> 男   <span class="token operator">|</span> 河北      <span class="token operator">|</span>    <span class="token number">26</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 男   <span class="token operator">|</span> 黑龙江    <span class="token operator">|</span>    <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 黄伞   <span class="token operator">|</span> 男   <span class="token operator">|</span> 江南      <span class="token operator">|</span>    <span class="token number">40</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_stu <span class="token keyword">where</span> id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+---------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> sex  <span class="token operator">|</span> address <span class="token operator">|</span> score <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+---------+-------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 男   <span class="token operator">|</span> 重庆    <span class="token operator">|</span>    <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 李四   <span class="token operator">|</span> 男   <span class="token operator">|</span> 河北    <span class="token operator">|</span>    <span class="token number">26</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 黄伞   <span class="token operator">|</span> 男   <span class="token operator">|</span> 江南    <span class="token operator">|</span>    <span class="token number">40</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+---------+-------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
<span class="token comment"># in 只要用于无规律的数据查询中。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></li> <li><p>like：对字符进行模糊查询
语法：xx like ‘要查找的内容’</p> <p>含义：实现对字符串的某种特征信息的模糊查询。主要依赖以下 2 个特殊符号</p> <ul><li>%：表示任意数量的任何字符</li> <li>_：下划线表示一个任意字符</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_stu<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> sex  <span class="token operator">|</span> address   <span class="token operator">|</span> score <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 男   <span class="token operator">|</span> 重庆      <span class="token operator">|</span>    <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 张三   <span class="token operator">|</span> 女   <span class="token operator">|</span> 四川      <span class="token operator">|</span>    <span class="token number">22</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 李四   <span class="token operator">|</span> 男   <span class="token operator">|</span> 河北      <span class="token operator">|</span>    <span class="token number">26</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 男   <span class="token operator">|</span> 黑龙江    <span class="token operator">|</span>    <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 黄伞   <span class="token operator">|</span> 男   <span class="token operator">|</span> 江南      <span class="token operator">|</span>    <span class="token number">40</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_stu <span class="token keyword">where</span> address <span class="token operator">like</span> <span class="token string">'%江%'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> sex  <span class="token operator">|</span> address   <span class="token operator">|</span> score <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 男   <span class="token operator">|</span> 黑龙江    <span class="token operator">|</span>    <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 黄伞   <span class="token operator">|</span> 男   <span class="token operator">|</span> 江南      <span class="token operator">|</span>    <span class="token number">40</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_stu <span class="token keyword">where</span> address <span class="token operator">like</span> <span class="token string">'江%'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+---------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> sex  <span class="token operator">|</span> address <span class="token operator">|</span> score <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+---------+-------+</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 黄伞   <span class="token operator">|</span> 男   <span class="token operator">|</span> 江南    <span class="token operator">|</span>    <span class="token number">40</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+---------+-------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_stu <span class="token keyword">where</span> address <span class="token operator">like</span> <span class="token string">'%江'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> sex  <span class="token operator">|</span> address   <span class="token operator">|</span> score <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 男   <span class="token operator">|</span> 黑龙江    <span class="token operator">|</span>    <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_stu <span class="token keyword">where</span> address <span class="token operator">like</span> <span class="token string">'_江'</span><span class="token punctuation">;</span>
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab_stu <span class="token keyword">where</span> address <span class="token operator">like</span> <span class="token string">'__江'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> sex  <span class="token operator">|</span> address   <span class="token operator">|</span> score <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 王五   <span class="token operator">|</span> 男   <span class="token operator">|</span> 黑龙江    <span class="token operator">|</span>    <span class="token number">20</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------+------+-----------+-------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div></li></ul></li></ol> <h3 id="_8-4-5、group-by-子句（分组）"><a href="#_8-4-5、group-by-子句（分组）" class="header-anchor">#</a> 8.4.5、group by 子句（分组）</h3> <p>分组：就是讲多行数据以某种标椎（字段）来进行分类存放。也就是按照这个字段的不同值分组成一个组。</p> <p>语法：select 组信息 1，组信息 2，… from 数据源 group by 字段</p> <p>示例：</p> <table width="100%"><tbody><tr><td width="5%"><p>id</p></td> <td width="52%"><p>pro_name</p></td> <td width="5%"><p>type_id</p></td> <td width="13%"><p>price</p></td> <td width="11%"><p>pinpai</p></td> <td width="11%"><p>chandi</p></td></tr> <tr><td width="4%"><p>1</p></td> <td width="51%"><p>康佳42英寸全高清液晶电视</p></td> <td width="9%"><p>1</p></td> <td width="12%"><p>1999</p></td> <td width="10%"><p>康佳</p></td> <td width="10%"><p>深圳</p></td></tr> <tr><td width="4%"><p>2</p></td> <td width="51%"><p>索宁60英寸全高清液晶电视</p></td> <td width="9%"><p>1</p></td> <td width="12%"><p>6999</p></td> <td width="10%"><p>索尼</p></td> <td width="10%"><p>北京</p></td></tr> <tr><td width="4%"><p>3</p></td> <td width="51%"><p>海信55英寸智能电视</p></td> <td width="9%"><p>1</p></td> <td width="12%"><p>4199</p></td> <td width="10%"><p>海信</p></td> <td width="10%"><p>青岛</p></td></tr> <tr><td width="4%"><p>4</p></td> <td width="51%"><p>索宁 4个手机黑色</p></td> <td width="9%"><p>2</p></td> <td width="12%"><p>3299</p></td> <td width="10%"><p>索尼</p></td> <td width="10%"><p>深圳</p></td></tr> <tr><td width="4%"><p>5</p></td> <td width="51%"><p>联想双卡双待3g手机</p></td> <td width="9%"><p>2</p></td> <td width="12%"><p>999</p></td> <td width="10%"><p>联想</p></td> <td width="10%"><p>北京</p></td></tr> <tr><td width="5%"><p>6</p></td> <td width="52%"><p>联想 14寸笔记本电脑</p></td> <td width="5%"><p>3</p></td> <td width="13%"><p>5499</p></td> <td width="11%"><p>联想</p></td> <td width="11%"><p>北京</p></td></tr> <tr><td width="4%"><p>7</p></td> <td width="51%"><p>联想 14寸笔记本电脑</p></td> <td width="9%"><p>3</p></td> <td width="12%"><p>2499</p></td> <td width="10%"><p>联想</p></td> <td width="10%"><p>北京</p></td></tr> <tr><td width="4%"><p>8</p></td> <td width="51%"><p>惠普黑白激光打印机</p></td> <td width="9%"><p>4</p></td> <td width="12%"><p>1999</p></td> <td width="10%"><p>惠普</p></td> <td width="10%"><p>天津</p></td></tr> <tr><td width="4%"><p>9</p></td> <td width="51%"><p>索尼 13寸触控超极本</p></td> <td width="9%"><p>3</p></td> <td width="12%"><p>11499</p></td> <td width="10%"><p>索尼</p></td> <td width="10%"><p>深圳</p></td></tr></tbody></table> <p>根据品牌分组:</p> <table width="100%"><tbody><tr><td width="4%"><p>id</p></td> <td width="51%"><p>pro_name</p></td> <td width="9%"><p>type_id</p></td> <td width="12%"><p>price</p></td> <td width="10%"><p>pinpai</p></td> <td width="10%"><p>chandi</p></td></tr> <tr><td width="4%"><p>3</p></td> <td width="51%"><p>海信55英寸智能电视</p></td> <td width="9%"><p>1</p></td> <td width="12%"><p>4199</p></td> <td width="10%"><p>海信</p></td> <td width="10%"><p>青岛</p></td></tr> <tr><td width="4%"><p>8</p></td> <td width="51%"><p>惠普黑白激光打印机</p></td> <td width="9%"><p>4</p></td> <td width="12%"><p>1999</p></td> <td width="10%"><p>惠普</p></td> <td width="10%"><p>天津</p></td></tr> <tr><td width="4%"><p>1</p></td> <td width="51%"><p>康佳42英寸全高清液晶电视</p></td> <td width="9%"><p>1</p></td> <td width="12%"><p>1999</p></td> <td width="10%"><p>康佳</p></td> <td width="10%"><p>深圳</p></td></tr> <tr><td width="4%"><p>5</p></td> <td width="51%"><p>联想双卡双待3g手机</p></td> <td width="9%"><p>2</p></td> <td width="12%"><p>999</p></td> <td width="10%"><p>联想</p></td> <td width="10%"><p>北京</p></td></tr> <tr><td width="4%"><p>6</p></td> <td width="51%"><p>联想 14寸笔记本电脑</p></td> <td width="9%"><p>3</p></td> <td width="12%"><p>5499</p></td> <td width="10%"><p>联想</p></td> <td width="10%"><p>北京</p></td></tr> <tr><td width="4%"><p>7</p></td> <td width="51%"><p>联想 14寸笔记本电脑</p></td> <td width="9%"><p>3</p></td> <td width="12%"><p>2499</p></td> <td width="10%"><p>联想</p></td> <td width="10%"><p>北京</p></td></tr> <tr><td width="4%"><p>2</p></td> <td width="51%"><p>索宁60英寸全高清液晶电视</p></td> <td width="9%"><p>1</p></td> <td width="12%"><p>6999</p></td> <td width="10%"><p>索尼</p></td> <td width="10%"><p>北京</p></td></tr> <tr><td width="4%"><p>4</p></td> <td width="51%"><p>索宁 4个手机黑色</p></td> <td width="9%"><p>2</p></td> <td width="12%"><p>3299</p></td> <td width="10%"><p>索尼</p></td> <td width="10%"><p>深圳</p></td></tr> <tr><td width="4%"><p>9</p></td> <td width="51%"><p>索尼 13寸触控超极本</p></td> <td width="9%"><p>3</p></td> <td width="12%"><p>11499</p></td> <td width="10%"><p>索尼</p></td> <td width="10%"><p>深圳</p></td></tr></tbody></table> <p>我们对这些组（5组），应该理解为5条数据。应用中，分组之后，通常只有如下几种可用的’组信息’。</p> <ol><li>分组依据本身的信息，其实就是该分组依据的字段名。</li> <li>每一组的数量信息，用count(*) 获取</li> <li>原来数据中的“数值类型字段的聚合信息”，包括如下几个：
<ul><li>最大值：max(字段名)</li> <li>最小值：min(字段名)</li> <li>平均值：avg(字段名)</li> <li>总和值：sum(字段名)</li></ul></li></ol> <p>其实就是4个系统内部函数。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> pinpai 品牌<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'数量'</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'最高价'</span><span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'最低价'</span><span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'平均价'</span><span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'总价'</span> <span class="token keyword">from</span> product <span class="token keyword">group</span> <span class="token keyword">by</span> pinpai<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------+-----------+-----------+--------+</span>
<span class="token operator">|</span> 品牌   <span class="token operator">|</span> 数量   <span class="token operator">|</span> 最高价    <span class="token operator">|</span> 最低价    <span class="token operator">|</span> 平均价    <span class="token operator">|</span> 总价   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------+-----------+-----------+--------+</span>
<span class="token operator">|</span> 康佳   <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>      <span class="token number">1999</span> <span class="token operator">|</span>      <span class="token number">1999</span> <span class="token operator">|</span> <span class="token number">1999.0000</span> <span class="token operator">|</span>   <span class="token number">1999</span> <span class="token operator">|</span>
<span class="token operator">|</span> 索尼   <span class="token operator">|</span>      <span class="token number">3</span> <span class="token operator">|</span>     <span class="token number">11499</span> <span class="token operator">|</span>      <span class="token number">3299</span> <span class="token operator">|</span> <span class="token number">7265.6667</span> <span class="token operator">|</span>  <span class="token number">21797</span> <span class="token operator">|</span>
<span class="token operator">|</span> 海信   <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>      <span class="token number">4199</span> <span class="token operator">|</span>      <span class="token number">4199</span> <span class="token operator">|</span> <span class="token number">4199.0000</span> <span class="token operator">|</span>   <span class="token number">4199</span> <span class="token operator">|</span>
<span class="token operator">|</span> 联想   <span class="token operator">|</span>      <span class="token number">3</span> <span class="token operator">|</span>      <span class="token number">5499</span> <span class="token operator">|</span>       <span class="token number">999</span> <span class="token operator">|</span> <span class="token number">2999.0000</span> <span class="token operator">|</span>   <span class="token number">8997</span> <span class="token operator">|</span>
<span class="token operator">|</span> 惠普   <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>      <span class="token number">1999</span> <span class="token operator">|</span>      <span class="token number">1999</span> <span class="token operator">|</span> <span class="token number">1999.0000</span> <span class="token operator">|</span>   <span class="token number">1999</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------+-----------+-----------+--------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_8-4-6、having-子句"><a href="#_8-4-6、having-子句" class="header-anchor">#</a> 8.4.6、having 子句</h3> <div class="custom-block tip"><p class="custom-block-title">作用</p> <p>having的作用跟where一样，只不过having只对group by（分组）后的数据进行条件筛选。即where对数据来源进行筛选，having对分组后的分组数据进行筛选。</p></div> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 筛选平均价格大于5000的品牌信息</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> pinpai 品牌<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'数量'</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'最高价'</span><span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'最低价'</span><span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'平均价'</span><span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'总价'</span> <span class="token keyword">from</span> product <span class="token keyword">group</span> <span class="token keyword">by</span> pinpai <span class="token keyword">having</span> 平均价 <span class="token operator">&gt;</span> <span class="token number">5000</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------+-----------+-----------+--------+</span>
<span class="token operator">|</span> 品牌   <span class="token operator">|</span> 数量   <span class="token operator">|</span> 最高价    <span class="token operator">|</span> 最低价    <span class="token operator">|</span> 平均价    <span class="token operator">|</span> 总价   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------+-----------+-----------+--------+</span>
<span class="token operator">|</span> 索尼   <span class="token operator">|</span>      <span class="token number">3</span> <span class="token operator">|</span>     <span class="token number">11499</span> <span class="token operator">|</span>      <span class="token number">3299</span> <span class="token operator">|</span> <span class="token number">7265.6667</span> <span class="token operator">|</span>  <span class="token number">21797</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------+-----------+-----------+--------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>

<span class="token comment"># 找出数量超过2的品牌信息</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> pinpai 品牌<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'数量'</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'最高价'</span><span class="token punctuation">,</span> <span class="token function">min</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'最低价'</span><span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'平均价'</span><span class="token punctuation">,</span> <span class="token function">sum</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'总价'</span> <span class="token keyword">from</span> product <span class="token keyword">group</span> <span class="token keyword">by</span> pinpai <span class="token keyword">having</span> 数量 <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------+-----------+-----------+--------+</span>
<span class="token operator">|</span> 品牌   <span class="token operator">|</span> 数量   <span class="token operator">|</span> 最高价    <span class="token operator">|</span> 最低价    <span class="token operator">|</span> 平均价    <span class="token operator">|</span> 总价   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------+-----------+-----------+--------+</span>
<span class="token operator">|</span> 索尼   <span class="token operator">|</span>      <span class="token number">3</span> <span class="token operator">|</span>     <span class="token number">11499</span> <span class="token operator">|</span>      <span class="token number">3299</span> <span class="token operator">|</span> <span class="token number">7265.6667</span> <span class="token operator">|</span>  <span class="token number">21797</span> <span class="token operator">|</span>
<span class="token operator">|</span> 联想   <span class="token operator">|</span>      <span class="token number">3</span> <span class="token operator">|</span>      <span class="token number">5499</span> <span class="token operator">|</span>       <span class="token number">999</span> <span class="token operator">|</span> <span class="token number">2999.0000</span> <span class="token operator">|</span>   <span class="token number">8997</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">--------+--------+-----------+-----------+-----------+--------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_8-4-7、order-by-：排序"><a href="#_8-4-7、order-by-：排序" class="header-anchor">#</a> 8.4.7、order by ：排序</h3> <p>语法：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">order</span> <span class="token keyword">by</span> 字段<span class="token number">1</span> <span class="token punctuation">[</span><span class="token keyword">asc</span> <span class="token operator">|</span> <span class="token keyword">desc</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 字段<span class="token number">2</span> <span class="token punctuation">[</span><span class="token keyword">asc</span> <span class="token operator">|</span> <span class="token keyword">desc</span><span class="token punctuation">]</span><span class="token punctuation">,</span> …
说明：
<span class="token comment"># 1.对前面的结果数据以指定的一个或者多个字段排序</span>
<span class="token comment"># 2.正序 asc （默认），倒序desc</span>
<span class="token comment"># 3.多个字段排序，都是在前一个字段排序的基础上再排序。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pro_name                            <span class="token operator">|</span> type_id <span class="token operator">|</span> price <span class="token operator">|</span> pinpai <span class="token operator">|</span> chandi <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色                    <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机                  <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 惠普黑白激光打印机                  <span class="token operator">|</span>       <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 惠普   <span class="token operator">|</span> 天津   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> 亲嘴烧                              <span class="token operator">|</span>       <span class="token number">9</span> <span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span> 天友   <span class="token operator">|</span> 四川   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token number">10</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product <span class="token keyword">order</span> <span class="token keyword">by</span> price <span class="token keyword">asc</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pro_name                            <span class="token operator">|</span> type_id <span class="token operator">|</span> price <span class="token operator">|</span> pinpai <span class="token operator">|</span> chandi <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> 亲嘴烧                              <span class="token operator">|</span>       <span class="token number">9</span> <span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span> 天友   <span class="token operator">|</span> 四川   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机                  <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 惠普黑白激光打印机                  <span class="token operator">|</span>       <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 惠普   <span class="token operator">|</span> 天津   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色                    <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token number">10</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product <span class="token keyword">order</span> <span class="token keyword">by</span> price <span class="token keyword">asc</span><span class="token punctuation">,</span> pinpai <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pro_name                            <span class="token operator">|</span> type_id <span class="token operator">|</span> price <span class="token operator">|</span> pinpai <span class="token operator">|</span> chandi <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> 亲嘴烧                              <span class="token operator">|</span>       <span class="token number">9</span> <span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span> 天友   <span class="token operator">|</span> 四川   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机                  <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 惠普黑白激光打印机                  <span class="token operator">|</span>       <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 惠普   <span class="token operator">|</span> 天津   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色                    <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token number">10</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><h3 id="_8-4-8、limit-子句"><a href="#_8-4-8、limit-子句" class="header-anchor">#</a> 8.4.8、limit 子句</h3> <p>作用：限制输出数据的数量（一般用于分页）</p> <p>语法：limit n, m：从n行开始输出之后的m行数据</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pro_name                            <span class="token operator">|</span> type_id <span class="token operator">|</span> price <span class="token operator">|</span> pinpai <span class="token operator">|</span> chandi <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色                    <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机                  <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 惠普黑白激光打印机                  <span class="token operator">|</span>       <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 惠普   <span class="token operator">|</span> 天津   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token number">9</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product <span class="token keyword">limit</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pro_name                    <span class="token operator">|</span> type_id <span class="token operator">|</span> price <span class="token operator">|</span> pinpai <span class="token operator">|</span> chandi <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视          <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色            <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机          <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑         <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑         <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-----------------------------+---------+-------+--------+--------+</span>
<span class="token number">5</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="_8-5、连接查询"><a href="#_8-5、连接查询" class="header-anchor">#</a> 8.5、连接查询</h2> <blockquote><p>就是将两个或者两个以上的表，连接起来，当作一个数据源，并从中取得所需的数据。原理就是将每一个表中的每一行数据两两对接起来。如表1有n行数据，表2有m行数据，对接起来就有n*m行数据。</p></blockquote> <img src="/blog/images/mysql/mysql连接查询.png" alt="连接查询"> <h3 id="_8-5-1、连接基本形式"><a href="#_8-5-1、连接基本形式" class="header-anchor">#</a> 8.5.1、连接基本形式</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>表<span class="token number">1</span> <span class="token punctuation">[</span>连接形式<span class="token punctuation">]</span> <span class="token keyword">join</span>表<span class="token number">2</span> <span class="token punctuation">[</span>连接条件<span class="token punctuation">]</span> <span class="token comment"># 2表</span>
表<span class="token number">1</span> <span class="token punctuation">[</span>连接形式<span class="token punctuation">]</span> <span class="token keyword">join</span> 表<span class="token number">2</span> <span class="token punctuation">[</span>连接条件<span class="token punctuation">]</span> <span class="token punctuation">[</span>连接形式<span class="token punctuation">]</span> <span class="token keyword">join</span> 表<span class="token number">3</span> <span class="token punctuation">[</span>连接条件<span class="token punctuation">]</span> <span class="token comment"># 3表</span>
<span class="token comment"># 更多表：依次类推</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_8-5-2、连接的分类"><a href="#_8-5-2、连接的分类" class="header-anchor">#</a> 8.5.2、连接的分类</h3> <h4 id="_1、交叉连接"><a href="#_1、交叉连接" class="header-anchor">#</a> 1、交叉连接</h4> <blockquote><p>就是没有连接条件的连接形式。这类连接实现简单，但是数据可用性差。</p></blockquote> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product <span class="token keyword">inner</span> <span class="token keyword">join</span> product_type<span class="token punctuation">;</span> <span class="token comment"># 交叉连接</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+----+--------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pro_name                            <span class="token operator">|</span> type_id <span class="token operator">|</span> price <span class="token operator">|</span> pinpai <span class="token operator">|</span> chandi <span class="token operator">|</span> id <span class="token operator">|</span> type_name    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+----+--------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span> <span class="token comment">#</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span> <span class="token comment">#</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span> <span class="token comment">#</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色                    <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色                    <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色                    <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span> <span class="token comment">#</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色                    <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机                  <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机                  <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机                  <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span> <span class="token comment">#</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机                  <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span> <span class="token comment">#</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span> <span class="token comment">#</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 惠普黑白激光打印机                  <span class="token operator">|</span>       <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 惠普   <span class="token operator">|</span> 天津   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span> <span class="token comment">#</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 惠普黑白激光打印机                  <span class="token operator">|</span>       <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 惠普   <span class="token operator">|</span> 天津   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 惠普黑白激光打印机                  <span class="token operator">|</span>       <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 惠普   <span class="token operator">|</span> 天津   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 惠普黑白激光打印机                  <span class="token operator">|</span>       <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 惠普   <span class="token operator">|</span> 天津   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span> <span class="token comment">#</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+----+--------------+</span>
<span class="token number">36</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>其中标记 ‘#’的数据行，是正确的，有意义的数据。而其他行都是错误的数据。这些有意义的数据有一个特点就是type_id与第二个id值一样，这就是on进行筛选的条件。</p> <h4 id="_2、内连接"><a href="#_2、内连接" class="header-anchor">#</a> 2、内连接</h4> <p>形式：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表<span class="token number">1</span> <span class="token punctuation">[</span><span class="token keyword">inner</span><span class="token punctuation">]</span> <span class="token keyword">join</span> 表<span class="token number">2</span> <span class="token keyword">on</span> 连接条件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>举例：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product t1 <span class="token keyword">inner</span> <span class="token keyword">join</span> product_type t2 <span class="token keyword">on</span> t1<span class="token punctuation">.</span>type_id <span class="token operator">=</span> t2<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+----+--------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pro_name                            <span class="token operator">|</span> type_id <span class="token operator">|</span> price <span class="token operator">|</span> pinpai <span class="token operator">|</span> chandi <span class="token operator">|</span> id <span class="token operator">|</span> type_name    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+----+--------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色                    <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机                  <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 惠普黑白激光打印机                  <span class="token operator">|</span>       <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 惠普   <span class="token operator">|</span> 天津   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+----+--------------+</span>
<span class="token number">9</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_3、左外连接"><a href="#_3、左外连接" class="header-anchor">#</a> 3、左外连接</h4> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>形式：表<span class="token number">1</span> <span class="token keyword">left</span>  <span class="token punctuation">[</span><span class="token keyword">outer</span><span class="token punctuation">]</span> <span class="token keyword">join</span> 表<span class="token number">2</span> <span class="token keyword">on</span> 连接条件。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>含义：其实就是讲两个表内连接的结果，在加上左表中不符合设定条件的那些数据的结果。（不符合条件的数据右表字段直接设置为null）</p> <p>举例：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product t1 <span class="token keyword">left</span> <span class="token keyword">outer</span> <span class="token keyword">join</span> product_type t2 <span class="token keyword">on</span> t1<span class="token punctuation">.</span>type_id <span class="token operator">=</span> t2<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+------+--------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pro_name                            <span class="token operator">|</span> type_id <span class="token operator">|</span> price <span class="token operator">|</span> pinpai <span class="token operator">|</span> chandi <span class="token operator">|</span> id   <span class="token operator">|</span> type_name    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+------+--------------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色                    <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机                  <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">8</span> <span class="token operator">|</span> 惠普黑白激光打印机                  <span class="token operator">|</span>       <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 惠普   <span class="token operator">|</span> 天津   <span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> 亲嘴烧                              <span class="token operator">|</span>       <span class="token number">9</span> <span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span> 天友   <span class="token operator">|</span> 四川   <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+------+--------------+</span>
<span class="token number">10</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="_4、右外连接"><a href="#_4、右外连接" class="header-anchor">#</a> 4、右外连接</h4> <p>形式：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>表<span class="token number">1</span> <span class="token keyword">right</span>  <span class="token punctuation">[</span><span class="token keyword">outer</span><span class="token punctuation">]</span> <span class="token keyword">join</span> 表<span class="token number">2</span> <span class="token keyword">on</span> 连接条件。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>含义：其实就是讲两个表内连接的结果，在加上右表中不符合设定条件的那些数据的结果。（不符合条件的数据左表字段直接设置为null）</p> <p>举例：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product t1 <span class="token keyword">right</span> <span class="token keyword">outer</span> <span class="token keyword">join</span> product_type t2 <span class="token keyword">on</span> t1<span class="token punctuation">.</span>type_id <span class="token operator">=</span> t2<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+-------------------------------------+---------+-------+--------+--------+----+--------------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> pro_name                            <span class="token operator">|</span> type_id <span class="token operator">|</span> price <span class="token operator">|</span> pinpai <span class="token operator">|</span> chandi <span class="token operator">|</span> id <span class="token operator">|</span> type_name    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-------------------------------------+---------+-------+--------+--------+----+--------------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">4</span> <span class="token operator">|</span> 索宁 <span class="token number">4</span>个手机黑色                    <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">3299</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> 联想双卡双待<span class="token number">3</span>g手机                  <span class="token operator">|</span>       <span class="token number">2</span> <span class="token operator">|</span>   <span class="token number">999</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">8</span> <span class="token operator">|</span> 惠普黑白激光打印机                  <span class="token operator">|</span>       <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 惠普   <span class="token operator">|</span> 天津   <span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>                                <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>   <span class="token operator">|</span> <span class="token boolean">NULL</span>   <span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 厕所用品     <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>                                <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>  <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>   <span class="token operator">|</span> <span class="token boolean">NULL</span>   <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 厨房用品     <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+-------------------------------------+---------+-------+--------+--------+----+--------------+</span>
<span class="token number">11</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="_5、全外连接"><a href="#_5、全外连接" class="header-anchor">#</a> 5、全外连接</h4> <p>形式：没有形式，因为mysql不支持全连接的语法。</p> <p>含义：其实就是讲两个表内连接的结果，在加上左右表中不符合设定条件的那些数据的结果。（不符合条件的数据对应左右表字段直接设置为null）</p> <h2 id="_8-6、子查询"><a href="#_8-6、子查询" class="header-anchor">#</a> 8.6、子查询</h2> <blockquote><p>所谓子查询就是在一个查询语句（select 语句）内部，某些位置又出现了‘查询语句’。因此就出现了主查询和子查询两个概念。通常子查询是为主查询服务的，子查询获得数据后再去执行主查询。</p></blockquote> <h3 id="_8-6-1、基本形式"><a href="#_8-6-1、基本形式" class="header-anchor">#</a> 8.6.1、基本形式</h3> <p>一个主查询可以使用什么样的子查询，跟其所需要使用的位置和运算符有关，形式化后就是这样的：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 字段或表达式或子查询 <span class="token keyword">as</span> <span class="token punctuation">[</span>别名<span class="token punctuation">]</span> <span class="token keyword">from</span> 表名或者连接结果或者子查询 <span class="token keyword">where</span>  字段或者表达式或者用子查询的条件判断
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_8-6-2、子查询的分类"><a href="#_8-6-2、子查询的分类" class="header-anchor">#</a> 8.6.2、子查询的分类</h3> <ol><li>按子查询结果
<ul><li>表子查询：返回结果为多行多列，此时可以当做“表”来使用，通常用在from后面。</li> <li>行子查询：返回结果为1行多列。</li> <li>列子查询：返回结果为多行一列标量子查询：返回结果为1行1列，此时可以作为一个值来使用，类似：select 8 as c1</li></ul></li> <li>按子查询位置
<ul><li>作为主查询的结果数据</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> c1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">select</span> f1 <span class="token keyword">from</span> tab2<span class="token punctuation">)</span> <span class="token keyword">as</span> c2 <span class="token keyword">from</span> tab1 <span class="token comment"># 这里的子查询应该只有一个数据（一行一列，标量子查询）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>作为主查询的条件数据：</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> c1 <span class="token keyword">from</span> tab1 <span class="token keyword">where</span> c1 <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> f1 <span class="token keyword">from</span> tab2<span class="token punctuation">)</span> <span class="token comment"># 这里查询的是多行数据（多行一列，列子查询）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>作为主查询的数据源</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> c1 <span class="token keyword">from</span> （<span class="token keyword">select</span> f1 <span class="token keyword">as</span> c1<span class="token punctuation">,</span> f2 <span class="token keyword">as</span> c2 <span class="token keyword">from</span> tab2）<span class="token keyword">as</span> tab3 <span class="token comment"># 表子查询。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h3 id="_8-6-3、常见的子查询"><a href="#_8-6-3、常见的子查询" class="header-anchor">#</a> 8.6.3、常见的子查询</h3> <ol><li><p>使用in的子查询</p> <p>形式：xx in （列子查询）</p> <p>举例：找出所有类别中带“电”字的所有商品。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product_type<span class="token punctuation">;</span> <span class="token comment"># 带电字只有id为1 和 3的类别</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> type_name    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 办公用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 厕所用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 厨房用品     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 家用电器     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 手机数码     <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 电脑         <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+--------------+</span>
<span class="token number">6</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> pro_name <span class="token keyword">from</span> product <span class="token keyword">where</span> type_id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> product_type <span class="token keyword">where</span> type_name <span class="token operator">like</span> <span class="token string">'%电%'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>
<span class="token operator">|</span> pro_name                            <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>
<span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>
<span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>
<span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>
<span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>
<span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>
<span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">-------------------------------------+</span>
<span class="token number">6</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div></li> <li><p>使用any的子查询</p> <p>形式：操作数 比较运算符 any (列子查询)</p> <p>含义：当某个操作数（字段）对于该子查询中的任意一个值，满足该比较运算符，则就是满足条件。即只要满足1，就输出。如下举例。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab1<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> bb   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> cc   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span> dd   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab2<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> f1   <span class="token operator">|</span> f2   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">33</span>   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span> <span class="token number">66</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span> <span class="token number">1212</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab1 <span class="token keyword">where</span> id <span class="token operator">&gt;</span> <span class="token keyword">any</span> <span class="token punctuation">(</span><span class="token keyword">select</span> f1 <span class="token keyword">from</span> tab2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> cc   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span> dd   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token number">2</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
<span class="token comment"># 只有1、2不大于tab2 中f1列的任意一个值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div></li> <li><p>使用all的子查询</p> <p>形式：操作数 比较运算符 all (列子查询)</p> <p>含义：当某个操作数（字段）对于该子查询中的任意一个值，不满足该比较运算符，则就是不满足条件（与any相反）。即只要全部满足才会输出。如下举例</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab1<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> bb   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> cc   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span> dd   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab2<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> f1   <span class="token operator">|</span> f2   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">33</span>   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span> <span class="token number">66</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span> <span class="token number">1212</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab2 <span class="token keyword">where</span> f1 <span class="token operator">&gt;</span> <span class="token keyword">all</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> tab1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> f1   <span class="token operator">|</span> f2   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span> <span class="token number">1212</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></li> <li><p>使用some的子查询</p> <blockquote><p>some是any的同义词。</p></blockquote></li> <li><p>使用exists的子查询</p> <p>形式：where  exists (子查询)</p> <p>含义：该子查询如果有数据，则exists的结果为true，否则为false。</p> <p>说明：因为exists的含义，造成主查询往往会出现这样的情形：要么全部查询出来，要么都不查询出来。如果只局限于该含义，其基本就失去了它现实的使用意义。
但，实际应用中，该子查询往往都不是独立的子查询，而是会需要跟主查询的数据源 （表），建立某种关系—通常就是连接关心。建立的方式是隐式的，即没有在代码上体现，但是却在内部有这种连接的实质。此隐式方式，通常体现在子查询中的where条件语句中，使用了主查询表中的数据字段。</p> <p>举例：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product <span class="token keyword">where</span> <span class="token keyword">exists</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> product_type <span class="token keyword">where</span> type_name <span class="token operator">like</span> <span class="token string">'%
电%'</span> <span class="token operator">and</span> product_type<span class="token punctuation">.</span>id <span class="token operator">=</span> product<span class="token punctuation">.</span>type_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> pro_name                            <span class="token operator">|</span> type_id <span class="token operator">|</span> price <span class="token operator">|</span> pinpai <span class="token operator">|</span> chandi <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 康佳<span class="token number">42</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">1999</span> <span class="token operator">|</span> 康佳   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 索宁<span class="token number">60</span>英寸全高清液晶电视            <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">6999</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 海信<span class="token number">55</span>英寸智能电视                  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span>  <span class="token number">4199</span> <span class="token operator">|</span> 海信   <span class="token operator">|</span> 青岛   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">5499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">7</span> <span class="token operator">|</span> 联想 <span class="token number">14</span>寸笔记本电脑                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">2499</span> <span class="token operator">|</span> 联想   <span class="token operator">|</span> 北京   <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">9</span> <span class="token operator">|</span> 索尼 <span class="token number">13</span>寸触控超极本                 <span class="token operator">|</span>       <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">11499</span> <span class="token operator">|</span> 索尼   <span class="token operator">|</span> 深圳   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----+-------------------------------------+---------+-------+--------+--------+</span>
<span class="token number">6</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="custom-block danger"><p class="custom-block-title">注意</p> <ul><li>这种子查询语句，没法独立存在（独立运行），而是必须跟主查询一起使用。</li> <li>该子查询中的条件，应该设置为跟主查询某个字段有一定的关联性判断，通常该判断就是这两个表的“本来该有的连接条件”。</li></ul></div></li></ol> <h2 id="_8-7、联合查询"><a href="#_8-7、联合查询" class="header-anchor">#</a> 8.7、联合查询</h2> <h3 id="_8-7-1、基本概念"><a href="#_8-7-1、基本概念" class="header-anchor">#</a> 8.7.1、基本概念</h3> <p>将两个具有相同字段数量的查询语句的结果，以上下堆积的方式合并成一个查询结果。如下</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab1<span class="token punctuation">;</span> <span class="token comment"># tab1 查询的结果</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> bb   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> cc   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span> dd   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token number">4</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> tab2<span class="token punctuation">;</span> <span class="token comment"># tab2查询的结果</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> f1   <span class="token operator">|</span> f2   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">33</span>   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span> <span class="token number">66</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span> <span class="token number">1212</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span> name <span class="token keyword">from</span> tab1 <span class="token keyword">union</span> <span class="token keyword">select</span> f1<span class="token punctuation">,</span> f2 <span class="token keyword">from</span> tab2<span class="token punctuation">;</span> <span class="token comment"># tab1和tab2联合查询的结果</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> bb   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> cc   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span> dd   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">33</span>   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span> <span class="token number">66</span>   <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span> <span class="token number">1212</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">小结</p> <p>小结：查询1与查询2查出的字段数量一致，并且最终结果以第一个查询的字段为结果字段</p></div> <h3 id="_8-7-2、联合查询语法形式"><a href="#_8-7-2、联合查询语法形式" class="header-anchor">#</a> 8.7.2、联合查询语法形式</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 语句<span class="token number">1</span> <span class="token keyword">union</span> <span class="token punctuation">[</span><span class="token keyword">all</span> <span class="token operator">|</span> <span class="token keyword">distinct</span><span class="token punctuation">]</span>  <span class="token keyword">select</span> 语句<span class="token number">2</span> ： 此联合查询语句，默认会自动消除重复行，即默认是<span class="token keyword">distinct</span>。

<span class="token comment"># 说明：</span>
<span class="token comment"># 1. 两个select语句的查询结果的字段需要保持一致，个数必须相同，对应顺序上的字段类型也应该相同</span>
<span class="token comment"># 2. All | distinct 表示两表的数据联合后是否需要消除相同行（数据）,All表示不消除（默认），distinct表示消除。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>细节：</p> <ol><li>应该将这个联合查询的结果理解为最终也是一个表格数据，且默认使用的第一个select语句中的字段。</li> <li>默认情况下，order by子句和limit子句只能对整个联合之后的结果进行排序和数量限定。</li></ol> <p>正确的做法：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span> name <span class="token keyword">from</span> tab1 <span class="token keyword">union</span> <span class="token keyword">select</span> f1<span class="token punctuation">,</span> f2 <span class="token keyword">from</span> tab2 <span class="token keyword">order</span> <span class="token keyword">by</span> id <span class="token keyword">desc</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span> id   <span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span> <span class="token number">1212</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span> dd   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">6</span> <span class="token operator">|</span> <span class="token number">66</span>   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span> cc   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">33</span>   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">2</span> <span class="token operator">|</span> bb   <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">------+------+</span>
<span class="token number">7</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.03</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>错误的做法：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> id<span class="token punctuation">,</span> name <span class="token keyword">from</span> tab1 <span class="token keyword">order</span> <span class="token keyword">by</span> id <span class="token keyword">desc</span> <span class="token keyword">union</span> <span class="token keyword">select</span> f1<span class="token punctuation">,</span> f2 <span class="token keyword">from</span> tab2<span class="token punctuation">;</span>
ERROR <span class="token number">1064</span> <span class="token punctuation">(</span><span class="token number">42000</span><span class="token punctuation">)</span>: You have an error <span class="token operator">in</span> your <span class="token keyword">SQL</span> syntax<span class="token punctuation">;</span> <span class="token keyword">check</span> the manual that corresponds <span class="token keyword">to</span> your MySQL server version <span class="token keyword">for</span> the <span class="token keyword">right</span> syntax <span class="token keyword">to</span> <span class="token keyword">use</span> near <span class="token string">'union select f1, f2 from tab2'</span> at line <span class="token number">1</span>
mysql<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/expand/mysql/notes/数据库（表）设计3范式.html" class="prev">
        7、数据库（表）设计 3 范式
      </a></span> <span class="next"><a href="/blog/expand/mysql/notes/数据库练习.html">
        9、数据库练习
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.72185d73.js" defer></script><script src="/blog/assets/js/5.91e22af4.js" defer></script><script src="/blog/assets/js/77.8813cd35.js" defer></script>
  </body>
</html>
